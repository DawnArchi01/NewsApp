{"ast":null,"code":"import _regeneratorRuntime from\"/home/archisman/Documents/React_Course/Project_NewsIt/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/archisman/Documents/React_Course/Project_NewsIt/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/archisman/Documents/React_Course/Project_NewsIt/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/archisman/Documents/React_Course/Project_NewsIt/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/archisman/Documents/React_Course/Project_NewsIt/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/archisman/Documents/React_Course/Project_NewsIt/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import NewsItem from\"./NewsItem\";import Spinner from\"./Spinner\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";// import InfiniteScroll from \"react-infinite-scroll-component\" ;\nexport var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.prevClick=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({page:_this.state.page-1});_this.updateNews();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.clickNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({page:_this.state.page+1});_this.updateNews();case 2:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={articles:[],page:1,loading:true};document.title=\"NewsIt - \".concat(_this.capitalizeFirstLetter(_this.props.category));return _this;}_createClass(News,[{key:\"updateNews\",value:function(){var _updateNews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,data,parsedData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:this.props.setProgress(10);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=\").concat(this.props.apiKey,\"&page=\").concat(this.state.page,\"&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=5;return fetch(url);case 5:data=_context3.sent;this.props.setProgress(30);_context3.next=9;return data.json();case 9:parsedData=_context3.sent;this.props.setProgress(70);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});this.props.setProgress(100);case 13:case\"end\":return _context3.stop();}}},_callee3,this);}));function updateNews(){return _updateNews.apply(this,arguments);}return updateNews;}()},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:this.updateNews();case 1:case\"end\":return _context4.stop();}}},_callee4,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",style:{marginTop:'80px'},children:[\"Top \",this.capitalizeFirstLetter(this.props.category),\" News\"]}),this.state.loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.loading&&this.state.articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title.slice(0,45):\"\",description:element.description?element.description.slice(0,80):\"\",imgUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn-warning\",onClick:this.prevClick,children:[\" \",\"\\u2190 Previous\"]}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),type:\"button\",className:\"btn btn-warning\",onClick:this.clickNext,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:\"in\",category:\"general\",pageSize:10};export default News;","map":{"version":3,"names":["React","Component","NewsItem","Spinner","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","prevClick","setState","page","state","updateNews","clickNext","articles","loading","document","title","category","setProgress","url","country","apiKey","pageSize","fetch","data","json","parsedData","totalResults","marginTop","map","element","description","urlToImage","author","publishedAt","source","name","Math","ceil","defaultProps"],"sources":["/home/archisman/Documents/React_Course/Project_NewsIt/src/components/News.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport Spinner from \"./Spinner\";\nimport PropTypes from \"prop-types\";\n// import InfiniteScroll from \"react-infinite-scroll-component\" ;\n\nexport class News extends Component {\n  static defaultProps = {\n    country: \"in\",\n    category: \"general\",\n    pageSize: 10,\n  };\n\n  static propTypes = {\n    country: PropTypes.string,\n    category: PropTypes.string,\n    pageSize: PropTypes.number,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      articles: [],\n      page: 1,\n      loading: true\n    };\n\n    document.title = `NewsIt - ${this.capitalizeFirstLetter(this.props.category)}` ;\n  }\n\n  async updateNews() {\n        this.props.setProgress(10);\n        const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page}&pageSize=${this.props.pageSize}`;\n        this.setState({ loading: true });\n        let data = await fetch(url);\n        this.props.setProgress(30);\n        let parsedData = await data.json()\n        this.props.setProgress(70);\n        this.setState({\n            articles: parsedData.articles,\n            totalResults: parsedData.totalResults,\n            loading: false, \n        })\n        this.props.setProgress(100);\n\n    }\n\n  capitalizeFirstLetter = (string)=>{\n    return string.charAt(0).toUpperCase() + string.slice(1) ;\n  }\n\n  async componentDidMount() {\n   this.updateNews() ;\n  }\n\n  prevClick = async () => {\n    this.setState({ page: this.state.page - 1 });\n    this.updateNews();\n  };\n\n  clickNext = async () => {\n    this.setState({ page: this.state.page + 1 });\n        this.updateNews()\n  };\n\n  render() {\n    return (\n      <div className=\"container my-3\">\n        <h2 className=\"text-center\" style = {{marginTop : '80px'}}>Top {this.capitalizeFirstLetter(this.props.category)} News</h2>\n        {this.state.loading && <Spinner />}\n        <div className=\"row\">\n          {!this.state.loading &&\n            this.state.articles.map((element) => {\n              return (\n                <div className=\"col-md-4\" key={element.url}>\n                  <NewsItem\n                    title={element.title ? element.title.slice(0, 45) : \"\"}\n                    description={\n                      element.description\n                        ? element.description.slice(0, 80)\n                        : \"\"\n                    }\n                    imgUrl={element.urlToImage}\n                    newsUrl={element.url}\n                    author={element.author}\n                    date={element.publishedAt}\n                    source={element.source.name}\n                  />\n                </div>\n              );\n            })}\n        </div>\n        <div className=\"container d-flex justify-content-between\">\n          <button\n            disabled={this.state.page <= 1}\n            type=\"button\"\n            className=\"btn btn-warning\"\n            onClick={this.prevClick}\n          >\n            {\" \"}\n            &larr; Previous\n          </button>\n          <button\n            disabled={\n              this.state.page + 1 >\n              Math.ceil(this.state.totalResults / this.props.pageSize)\n            }\n            type=\"button\"\n            className=\"btn btn-warning\"\n            onClick={this.clickNext}\n          >\n            Next &rarr;\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default News;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}